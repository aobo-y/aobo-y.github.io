/*! yangaobo.github.io 2015-05-04 */
!function(a,b){function c(){var b=a("#contact form");b.find("button").click(function(c){c.preventDefault();var d=!1,e=b.find("input, textarea").each(function(b){var c=a(this);""===c.val().trim()?(c.parent().removeClass("has-success").addClass("has-error"),d=!0,c.next(".form-control-feedback").removeClass("glyphicon-ok").addClass("glyphicon-remove").show()):(c.parent().removeClass("has-error has-success"),c.next(".form-control-feedback").hide())});d||a.ajax({url:C+"/send_message",type:"post",data:b.serialize(),success:function(b){b?(e.each(function(b){var c=a(this);c.parent().removeClass("has-error").addClass("has-success"),c.next(".form-control-feedback").removeClass("glyphicon-remove").addClass("glyphicon-ok").show()}),alert("Thank you for your message")):alert("Sever error: Send failed, please try it later")},error:function(a,b){alert(b+": Send failed, please try it later")}})})}function d(){t=a("#navbar").height(),u=a("#resume-catalog ul"),v=a("#resume-catalog li")}function e(){var b=a(window).height();b>600&&(b-=a("#me").outerHeight()),a("#header").outerHeight(b)}function f(){a("#resume-catalog").height(a("#resume-content").height())}function g(b){a("html, body").animate({scrollTop:b-t})}function h(b){b.preventDefault(),g(a(this.getAttribute("href")).offset().top)}function i(){a(window).resize(function(){e(),p(),q()})}function j(){a("#nav-btn-list a, .navbar-brand").click(h)}function k(){a(".cl-item a").click(h)}function l(){var b=a("#find-more-button");b.click(h)}function m(a,b){var c=6-(b-50)/2;a.stop().animate({"margin-top":c,"margin-bottom":c,width:b,height:b},"fast").css("overflow","none")}function n(a,b,c,d){d=d||0;var e=4-d;if(m(a,b),b-e>50){if(0==c||2==c){var f=a.prev();f&&n(f,b-e,0)}if(1==c||2==c){var g=a.next();g&&n(g,b-e,1)}}}function o(){a(".circle-social-icon").hover(function(){$this=a(this),n($this,62,2)},function(){m(a(".circle-social-icon"),50)})}function p(){w=a("#resume").offset().top,x=a("#work").offset().top-200-80-a("#resume-catalog > ul").outerHeight(!0),y=a("#education-section").offset().top-150,z=a("#job-section").offset().top-30,A=a("#award-section").offset().top-20,B=a("#skill-section").offset().top-20}function q(a){var b,c=u,d=v;switch(!0){case w>a:b="absolute-top";break;case x>=a:b="fixed";break;default:b="absolute-bottom"}if(c.hasClass(b)||(c.removeClass(),c.addClass(b)),a>=y&&x>=a){var e,f;switch(!0){case z>a:f=0;break;case A>a:f=1;break;case B>a:f=2;break;default:f=3}e=d.eq(f),e.hasClass("highlighted")||(d.removeClass("highlighted"),e.addClass("highlighted"))}}function r(){a(window).scroll(function(b){var c=a(window).scrollTop()+t;q(c)})}function s(){var c=!1,d=new b.maps.LatLng(22.303325,114.186659),e={zoom:8,center:d},f=new b.maps.Map(document.getElementById("map-canvas"),e);a(window).scroll(function(e){var g=a(window).scrollTop()+a(window).height(),h=a("#map-canvas");if(g>=h.offset().top+400&&!c){var i=new b.maps.Marker({position:d,animation:b.maps.Animation.DROP,map:f,title:"Spend most of time here"});b.maps.event.addListener(i,"mouseover",function(){null==i.getAnimation()&&(i.setAnimation(b.maps.Animation.BOUNCE),setTimeout(function(){i.setAnimation(null)},3500))}),c=!0}}),a("#contact-right").height(a("#contact").height())}var t,u,v,w,x,y,z,A,B,C="http://yangaobo.appspot.com";a(document).ready(function(){d(),e(),f(),i(),o(),j(),l(),k(),c(),p(),r(),s()})}(window.jQuery,window.google);