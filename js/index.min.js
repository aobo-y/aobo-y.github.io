/*! yangaobo.github.io 2015-05-03 */
function addContactFormSubmitBtnClickHandler(){var a=$("#contact form");a.find("button").click(function(b){b.preventDefault();var c=!1,d=a.find("input, textarea").each(function(a){var b=$(this);""===b.val().trim()?(b.parent().removeClass("has-success").addClass("has-error"),c=!0,b.next(".form-control-feedback").removeClass("glyphicon-ok").addClass("glyphicon-remove").show()):(b.parent().removeClass("has-error has-success"),b.next(".form-control-feedback").hide())});c||$.ajax({url:WEB_SERVICE+"/send_message",type:"post",data:a.serialize(),success:function(a){a?(d.each(function(a){var b=$(this);b.parent().removeClass("has-error").addClass("has-success"),b.next(".form-control-feedback").removeClass("glyphicon-remove").addClass("glyphicon-ok").show()}),alert("Thank you for your message")):alert("Sever error: Send failed, please try it later")},error:function(a,b){alert(b+": Send failed, please try it later")}})})}function initializeVariables(){navbarHeight=$("#navbar").height(),$resumeClUl=$("#resume-catalog ul"),$resumeClLi=$("#resume-catalog li")}function setHeaderHeight(){var a=$(window).height();a>600&&(a-=$("#me").outerHeight()),$("#header").outerHeight(a)}function setResumeCatalogHeight(){$("#resume-catalog").height($("#resume-content").height())}function animateScrollTo(a){$("html, body").animate({scrollTop:a-navbarHeight})}function scrollBtnClickHandler(a){a.preventDefault(),animateScrollTo($(this.getAttribute("href")).offset().top)}function addWindowSizeChangeHandler(){$(window).resize(function(){setHeaderHeight(),initializeResumePartBorderVar(),updateResumeCatalog()})}function addNavbarBtnHandler(){$("#nav-btn-list a, .navbar-brand").click(scrollBtnClickHandler)}function addResumeCatalogClickHandler(){$(".cl-item a").click(scrollBtnClickHandler)}function addFindMoreBtnHandler(){var a=$("#find-more-button");a.click(scrollBtnClickHandler)}function circleEleResize(a,b){var c=6-(b-50)/2;a.stop().animate({"margin-top":c,"margin-bottom":c,width:b,height:b},"fast").css("overflow","none")}function gradualIncreaSize(a,b,c,d){d=d||0;var e=4-d;if(circleEleResize(a,b),b-e>50){if(0==c||2==c){var f=a.prev();f&&gradualIncreaSize(f,b-e,0)}if(1==c||2==c){var g=a.next();g&&gradualIncreaSize(g,b-e,1)}}}function addSocialIconHoverHandler(){$(".circle-social-icon").hover(function(){$this=$(this),gradualIncreaSize($this,62,2)},function(){circleEleResize($(".circle-social-icon"),50)})}function initializeResumePartBorderVar(){resumeBegin=$("#resume").offset().top,resumeEnd=$("#work").offset().top-200-80-$("#resume-catalog > ul").outerHeight(!0),eduBegin=$("#education-section").offset().top-150,jobBegin=$("#job-section").offset().top-30,awardBegin=$("#award-section").offset().top-20,skillBegin=$("#skill-section").offset().top-20}function updateResumeCatalog(a){var b,c=$resumeClUl,d=$resumeClLi;switch(!0){case resumeBegin>a:b="absolute-top";break;case resumeEnd>=a:b="fixed";break;default:b="absolute-bottom"}if(c.hasClass(b)||(c.removeClass(),c.addClass(b)),a>=eduBegin&&resumeEnd>=a){var e,f;switch(!0){case jobBegin>a:f=0;break;case awardBegin>a:f=1;break;case skillBegin>a:f=2;break;default:f=3}e=d.eq(f),e.hasClass("highlighted")||(d.removeClass("highlighted"),e.addClass("highlighted"))}}function addScrollHandler(){$(window).scroll(function(a){var b=$(window).scrollTop()+navbarHeight;updateResumeCatalog(b)})}function initializeGoogleMap(){var a=!1,b=new google.maps.LatLng(22.303325,114.186659),c={zoom:8,center:b},d=new google.maps.Map(document.getElementById("map-canvas"),c);$(window).scroll(function(c){var e=$(window).scrollTop()+$(window).height(),f=$("#map-canvas");if(e>=f.offset().top+400&&!a){var g=new google.maps.Marker({position:b,animation:google.maps.Animation.DROP,map:d,title:"Spend most of time here"});google.maps.event.addListener(g,"mouseover",function(){null==g.getAnimation()&&(g.setAnimation(google.maps.Animation.BOUNCE),setTimeout(function(){g.setAnimation(null)},3500))}),a=!0}}),$("#contact-right").height($("#contact").height())}var navbarHeight,WEB_SERVICE="http://yangaobo.appspot.com",$resumeClUl,$resumeClLi,resumeBegin,resumeEnd,eduBegin,jobBegin,awardBegin,skillBegin;$(document).ready(function(){initializeVariables(),setHeaderHeight(),setResumeCatalogHeight(),addWindowSizeChangeHandler(),addSocialIconHoverHandler(),addNavbarBtnHandler(),addFindMoreBtnHandler(),addResumeCatalogClickHandler(),addContactFormSubmitBtnClickHandler(),initializeResumePartBorderVar(),addScrollHandler(),initializeGoogleMap()});